<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Geodata Sources - OEPS Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Geodata Sources";
        var mkdocs_page_input_path = "registry/geodata-sources.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
 <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> OEPS Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../overview/">OEPS Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../legacy-migration/">Migration/Restructure 2023</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/install/">Installing the Components</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/getting-started-with-cli/">Getting Started with the CLI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/provisioning-oeps-explorer/">Provisioning OEPS Explorer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/adding-data-to-oeps/">Adding Data to OEPS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/creating-data-packages/">Creating Data Packages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/interacting-with-bigquery/">Interacting with OEPS Data in BigQuery</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/generating-derived-documentation/">Generating Derived Documentation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Registry</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../themes-constructs/">Themes &amp; Constructs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../variables/">Variables</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../table-sources/">Table Sources</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Geodata Sources</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#example-geodata_source">Example geodata_source</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CLI Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/bigquery-export/">bigquery-export</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/bigquery-upload/">bigquery-upload</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/build-docs/">build-docs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/build-explorer-docs/">build-explorer-docs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/build-explorer-map/">build-explorer-map</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/create-data-dictionaries/">create-data-dictionaries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/create-data-package/">create-data-package</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/inspect-csv/">inspect-csv</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/merge-data-table/">merge-data-table</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/validate-registry/">validate-registry</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">OEPS Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Registry</li>
      <li class="breadcrumb-item active">Geodata Sources</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="geodata-sources">Geodata Sources</h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For a list of all geodata sources currently in the registry, see <a href="https://github.com/healthyregions/oeps/blob/main/docs/src/reference/registry/geodata_sources.csv">geodata_sources.csv</a> on Github.</p>
</div>
<p>Geodata sources define the base geospatial data that can be joined to CSV data. There are 4 different geography levels (referred to as "summary levels" in the code baes): States, Counties, Tracts, and Zip Code Tabulation Areas (ZCTAs). Because we have many different years of data in the CSVs, we also need to include different years of spatial data, as boundaries and geographic unit ids change over time.</p>
<p>Characteristics of geodata source shapefiles:</p>
<ul>
<li>Has a <code>HEROP_ID</code> field which will be used by all CSV files for joins.</li>
<li>Stored as zip file in AWS S3, not locally in the repository.</li>
</ul>
<p>Each geodata source is defined by the following attributes:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>ID of geodata source</td>
<td>Will always be in <code>{geography (plural)}-{year}</code> format.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>Human-readable title</td>
<td></td>
</tr>
<tr>
<td><code>description</code></td>
<td>Short description</td>
<td>Will always be "Shapefile of {geography} boundaries from the US Census Bureau, {year}".</td>
</tr>
<tr>
<td><code>path</code></td>
<td>Path to zipped shapefile</td>
<td>This is a full URL to the zipped file in AWS S3.</td>
</tr>
<tr>
<td><code>format</code></td>
<td>Will always be <code>shp</code></td>
<td></td>
</tr>
<tr>
<td><code>mediatype</code></td>
<td>Will always be <code>application/vnd.shp</code></td>
<td></td>
</tr>
<tr>
<td><code>summary_level</code></td>
<td>Type of geography</td>
<td>Will be one of: state, county, tract, or zcta.</td>
</tr>
<tr>
<td><code>bq_dataset_name</code></td>
<td>Target dataset during BigQuery upload</td>
<td>To be deprecated.</td>
</tr>
<tr>
<td><code>bq_table_name</code></td>
<td>Target table during BigQuery upload</td>
<td>To be deprecated.</td>
</tr>
<tr>
<td><code>schema</code></td>
<td>A nested JSON schema object</td>
<td>The schema defines <code>primaryKey</code> (always "HEROP_ID"), and <code>fields</code>, which will include, at least an entry for <code>HEROP_ID</code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Geodata sources are very similar to <a href="../table-sources/">table sources</a> (based on Frictionless <a href="https://specs.frictionlessdata.io/data-resource/">Data Resources</a>) but instead of referencing CSV files they reference zipped ESRI Shapfiles, and they do include the <code>schema</code> property.</p>
</div>
<h2 id="example-geodata_source">Example <code>geodata_source</code></h2>
<pre><code>{
    &quot;bq_dataset_name&quot;: &quot;spatial&quot;,
    &quot;bq_table_name&quot;: &quot;counties2010&quot;,
    &quot;name&quot;: &quot;counties-2010&quot;,
    &quot;title&quot;: &quot;County Boundaries, 2010&quot;,
    &quot;description&quot;: &quot;Shapefile of county boundaries from the US Census Bureau, 2010.&quot;,
    &quot;path&quot;: &quot;https://herop-geodata.s3.us-east-2.amazonaws.com/census/county-2010-500k-shp.zip&quot;,
    &quot;format&quot;: &quot;shp&quot;,
    &quot;mediatype&quot;: &quot;application/vnd.shp&quot;,
    &quot;summary_level&quot;: &quot;county&quot;,
    &quot;schema&quot;: {
        &quot;primaryKey&quot;: &quot;HEROP_ID&quot;,
        &quot;fields&quot;: [
            {
                &quot;name&quot;: &quot;HEROP_ID&quot;,
                &quot;title&quot;: &quot;HEROP_ID&quot;,
                &quot;type&quot;: &quot;string&quot;
            },
            {
                &quot;name&quot;: &quot;name&quot;,
                &quot;title&quot;: &quot;Name&quot;,
                &quot;type&quot;: &quot;string&quot;
            }
        ]
    }
}
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../table-sources/" class="btn btn-neutral float-left" title="Table Sources"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../reference/cli/bigquery-export/" class="btn btn-neutral float-right" title="bigquery-export">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../table-sources/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../reference/cli/bigquery-export/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body>
</html>
