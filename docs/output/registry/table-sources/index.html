<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Table Sources - OEPS Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Table Sources";
        var mkdocs_page_input_path = "registry/table-sources.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
 <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> OEPS Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../overview/">OEPS Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../legacy-migration/">Migration/Restructure 2023</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/install/">Installing the Components</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/getting-started-with-cli/">Getting Started with the CLI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/provisioning-oeps-explorer/">Provisioning OEPS Explorer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/adding-data-to-oeps/">Adding Data to OEPS</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/creating-data-packages/">Creating Data Packages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/interacting-with-bigquery/">Interacting with OEPS Data in BigQuery</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../guides/generating-derived-documentation/">Generating Derived Documentation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Registry</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../metadata/">Metadata</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../variables/">Variables</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Table Sources</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#example-table_source">Example table_source</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../geodata-sources/">Geodata Sources</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">CLI Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/bigquery-export/">bigquery-export</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/bigquery-upload/">bigquery-upload</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/build-docs/">build-docs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/build-explorer-docs/">build-explorer-docs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/build-explorer-map/">build-explorer-map</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/create-data-dictionaries/">create-data-dictionaries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/create-data-package/">create-data-package</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/inspect-csv/">inspect-csv</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/merge-data-table/">merge-data-table</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/validate-registry/">validate-registry</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">OEPS Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Registry</li>
      <li class="breadcrumb-item active">Table Sources</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="table-sources">Table Sources</h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For a list of all table sources currently in the registry, see <a href="https://github.com/healthyregions/oeps/blob/main/docs/src/reference/registry/table_sources.csv">table_sources.csv</a> on Github.</p>
</div>
<p><strong>Table sources</strong> are a JSON representations of each CSV dataset within OEPS--one JSON file per CSV. The structure is based on the <a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a> from Frictionless Data. However, where a <code>schema</code> property would typically define a primary key, foreign key (for joins), and a list of all fields, all of this information is inferred or standardized elsewhere and need not be stored in these files.</p>
<p>Characteristics of table source CSVs:</p>
<ul>
<li>Only have data for <strong>one</strong> geography level (state, county, tract, or zcta)</li>
<li>Only have data for <strong>one</strong> year</li>
<li>Named with the format <code>{geography}-{year}</code>, for example, <code>county-2020</code></li>
<li>Has a <code>HEROP_ID</code> column as primary key that joins each row to a geography unit.</li>
<li>Has column names that match (exactly) with <a href="../variables/">variable</a> names already defined in the registry.</li>
</ul>
<p>Each table source is defined by the following attributes:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>ID of table source</td>
<td>Will always be in <code>{geography}-{year}</code> format</td>
</tr>
<tr>
<td><code>title</code></td>
<td>Human-readable title</td>
<td>Currently not used anywhere, and set to match <code>name</code></td>
</tr>
<tr>
<td><code>description</code></td>
<td>Short description</td>
<td>Will always be "This CSV aggregates all OEPS data values from {year} at the {geography} level.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>Path to CSV</td>
<td>Relative to data directory, this path will always be <code>tables/{name}.csv</code>, i.e. <code>tables/{geography}-{year}.csv</code></td>
</tr>
<tr>
<td><code>format</code></td>
<td>Will always be <code>csv</code></td>
<td></td>
</tr>
<tr>
<td><code>mediatype</code></td>
<td>Will always be <code>text/csv</code></td>
<td></td>
</tr>
<tr>
<td><code>year</code></td>
<td>Year of the data in this CSV</td>
<td></td>
</tr>
<tr>
<td><code>bq_dataset_name</code></td>
<td>Target dataset during BigQuery upload</td>
<td>To be deprecated.</td>
</tr>
<tr>
<td><code>bq_table_name</code></td>
<td>Target table during BigQuery upload</td>
<td>To be deprecated.</td>
</tr>
<tr>
<td><code>geodata_source</code></td>
<td>Name of geodata source this CSV will join to</td>
<td>Geodata source must already exist in the registry. Importantly, the year of the CSV data may not match the geodata source, as 2015 data should be joined to 2010 geographies (for example).</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Future simplification</p>
<p>Much of the content stored in the attributes described above can be inferred from other information, or is always the same across all table sources, so it's possible that some of these will be removed in the future.</p>
</div>
<h2 id="example-table_source">Example <code>table_source</code></h2>
<pre><code>{
  &quot;bq_dataset_name&quot;: &quot;tabular&quot;,
  &quot;bq_table_name&quot;: &quot;county-2020&quot;,
  &quot;name&quot;: &quot;county-2020&quot;,
  &quot;path&quot;: &quot;tables/county-2020.csv&quot;,
  &quot;format&quot;: &quot;csv&quot;,
  &quot;mediatype&quot;: &quot;text/csv&quot;,
  &quot;title&quot;: &quot;county-2020&quot;,
  &quot;description&quot;: &quot;This CSV aggregates all OEPS data values from 2020 at the county level.&quot;,
  &quot;year&quot;: &quot;2020&quot;,
  &quot;geodata_source&quot;: &quot;counties-2018&quot;
}
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../variables/" class="btn btn-neutral float-left" title="Variables"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../geodata-sources/" class="btn btn-neutral float-right" title="Geodata Sources">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../variables/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../geodata-sources/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body>
</html>
